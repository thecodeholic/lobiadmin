<!--Author      : @arboshiki-->
<div id="sparkline">
    <div>
        <h2 class="page-header-dashed">jQuery Sparklines</h2>
        <div class="row">
            <div class="col-md-5">
                <p>
                    Mouse speed <span id="mousespeed">Loading..</span>
                </p>
                <p>
                    Inline <span class="sparkline">10,8,9,3,5,8,5</span> 
                    line graphs 
                    <span class="sparkline">8,4,0,0,0,0,1,4,4,10,10,10,10,0,0,0,4,6,5,9,10</span>
                </p>

                <p>
                    Bar charts <span class="sparkbar">10,8,9,3,5,8,5</span> 
                    negative values: <span class="sparkbar">-3,1,2,0,3,-1</span>
                    stacked: <span class="sparkbar">0:2,2:4,4:2,4:1</span>
                </p>

                <p>
                    Composite inline 
                    <span id="compositeline">8,4,0,0,0,0,1,4,4,10,10,10,10,0,0,0,4,6,5,9,10</span>
                </p>
                <p>
                    Inline with normal range 
                    <span id="normalline">8,4,0,0,0,0,1,4,4,10,10,10,10,0,0,0,4,6,5,9,10</span>
                </p>
                <p>
                    Composite bar 
                    <span id="compositebar">4,6,7,7,4,3,2,1,4</span>
                </p>
                <p>
                    Discrete 
                    <span class="discrete1">4,6,7,7,4,3,2,1,4,4,5,6,7,6,6,2,4,5</span><br />

                    Discrete with threshold 
                    <span id="discrete2">4,6,7,7,4,3,2,1,4</span>
                </p>

                <p>
                    Customize size and colours 
                    <span id="linecustom">10,8,9,3,5,8,5,7</span>
                </p>
                <p>
                    Tristate charts 
                    <span class="sparktristate">1,1,0,1,-1,-1,1,-1,0,0,1,1</span><br />
                    (think games won, lost or drawn)
                </p>
                <p>
                    Tristate chart using a colour map: 
                    <span class="sparktristatecols">1,2,0,2,-1,-2,1,-2,0,0,1,1</span>
                </p>
                <p>
                    Box Plot: <span class="sparkboxplot">4,27,34,52,54,59,61,68,78,82,85,87,91,93,100</span><br />
                    Pre-computed box plot <span class="sparkboxplotraw">Loading..</span>
                </p>
                <hr>
                <p><a href="http://omnipotent.net/jquery.sparkline/#s-about" target="_blank" class="btn btn-default pull-right">Read more about sparkline</a></p>
            </div>
            <div class="col-md-7">
                <div class="panel panel-light">
                    <div class="panel-heading">
                        <div class="panel-title">
                            <h4>Chart variations</h4>
                        </div>
                    </div>
                    <div class="panel-body table-responsive">
                        <table class="table table-condensed table-bordered">
                            <tr>
                                <th>Graph</th>
                                <th>type</th>
                                <th>Template</th>
                            </tr>
                            <tr>
                                <td><span class="sparkline">1,4,4,7,5,9,10,4,2,3,8</span></td>
                                <td>Line</td>
                                <td>
                                    <div class="highlight">
<pre><code>$(selector).sparkline(values, {
    type: 'line'
});        
</code></pre>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="sparkline" data-type="bar">1,4,4,7,5,9,10,4,2,3,8</span></td>
                                <td>Bar</td>
                                <td>
<pre><code>$(selector).sparkline(values, {
    type: 'bar'
});        
</code></pre>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="sparkline" data-type="tristate">1,4,4,-7,-5,9,10,-4,2,-3,8</span></td>
                                <td>Tristate</td>
                                <td>
<pre><code>$(selector).sparkline(values, {
    type: 'tristate'
});        
</code></pre>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="sparkline" data-type="discrete">1,4,4,7,5,9,10,4,2,3,8</span></td>
                                <td>Discrete</td>
                                <td>
<pre><code>$(selector).sparkline(values, {
    type: 'discrete'
});        
</code></pre>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="sparkline" data-type="bullet">1,4,4,7,5,9,10,4,2,3,8</span></td>
                                <td>Bullet</td>
                                <td>
<pre><code>$(selector).sparkline(values, {
    type: 'bullet'
});        
</code></pre>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="sparkline" data-type="pie">1,4,4,7,5,9,10,4,2,3,8</span></td>
                                <td>Pie</td>
                                <td>
<pre><code>$(selector).sparkline(values, {
    type: 'pie'
});        
</code></pre>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="sparkline" data-type="box">1,4,4,7,5,9,10,4,2,3,8</span></td>
                                <td>Box</td>
                                <td>
<pre><code>$(selector).sparkline(values, {
    type: 'box'
});        
</code></pre>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Custom pie chart</h4>
                    </div>
                </div>
                <div class="panel-body text-center">
                    <span class="sparkline" data-type='pie' data-Width='200px' data-Height='200px'>1,4,6,9,10,8</span>
                </div>
            </div>
            <div class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Custom line chart</h4>
                    </div>
                </div>
                <div class="panel-body text-center">
                    <span class="sparkline" data-FillColor="#FFF" data-type='line' data-Width='200px' data-Height='100px'>10,15,4,7,13,9,10,4,18,17,8</span>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Custom bar chart</h4>
                    </div>
                </div>
                <div class="panel-body text-center">
                    <span class="sparkline" data-type='bar' data-Width='200px' data-Height='200px'>1,4,4,7,5,9,14,17,20,3,12,7,7,10,4,2,3,8</span>
                </div>
            </div>
            <div class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Custom line chart</h4>
                    </div>
                </div>
                <div class="panel-body text-center">
                    <span class="sparkline" data-type="line" data-width="100px" data-Height="100px">1,4,4,7,5,9,10,4,2,3,8</span>
                </div>
            </div>
        </div>
    </div>
    <h3 class="page-header-dashed">Responsive sparklines</h3>
    <p>We have extended sparkline charts and made it optionally responsive.</p>
    <p>Responsive charts will occupy the whole width of the parent. Unless you specify <code>tadOptionsPrefix + max-width=""</code> property to constrain the chart width.</p>
    <div class="callout callout-warning">
        <p>Currently responsive sparkline charts are implemented only for the following types: <code>bar, line, pie</code>.</p>
    </div>
    <p>In order chart to become responsive: 
        <ul>
            <li>Add <code>.sparkline-responsive</code> to chart element</li>
            <li>Chart element must occupy full available width</li>
            <li>Add all options by attributes</li>
            <li>Add data by <code>tagOptionsPrefix + data="[]"</code> attribute</li>
        </ul>
    </p>
    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Responsive pie chart</h4>
                    </div>
                </div>
                <div class="panel-body text-center">
                    <div class="callout callout-info">
                        <p>
                            For pie charts specify <code>max-width=""</code> property and chart will start resizing after chart element width will be less than this value.
                        </p>
                    </div>
                    <div class="highlight margin-bottom-15">
<pre><code>&lt;div class=&quot;sparkline-responsive&quot; data-type=&apos;pie&apos; data-max-width=&quot;200&quot; data-data=&quot;[3,4,6,9,10,8]&quot;&gt;&lt;/div&gt;
</code></pre>
                        </div>
                    <div class="sparkline-responsive" data-type='pie' data-max-width="200" data-data="[3,4,6,9,10,8]"></div>
                </div>
            </div>
            <div class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Responsive line chart</h4>
                    </div>
                </div>
                <div class="panel-body text-center">
                    <div class="callout callout-info">
                        <p>Specify only <code>height</code> property. Width will always be 100%.</p>
                    </div>
                    <div class="sparkline-responsive" data-FillColor="#FFF" data-type='line' data-height='100px' data-data="[10,15,4,7,13,9,10,4,18,17,8]"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Custom bar chart</h4>
                    </div>
                </div>
                <div class="panel-body text-center">
                    <div class="callout callout-info">
                        <p>Specify only <code>height</code> property.
                            <code>barWidth</code> will be automatically calculated by element width and <code>barSpacing</code>.
                            Optionally you can add <code>max-width=""</code> or <code>min-width=""</code> options.
                        </p>
                    </div>
                    <p>Chart width will never be less than 250px</p>
                    <div class="highlight margin-bottom-15">
<pre><code>&lt;div class=&quot;sparkline-responsive&quot; data-type=&quot;bar&quot; data-barSpacing=&quot;3&quot; data-min-width=&quot;250&quot; data-height=&quot;200px&quot; data-data=&quot;[1,4,4,7,5,9,14,17,20,3,12,7,7,10,4,2,3,8]&quot;&gt;&lt;/div&gt;
</code></pre>
                    </div>
                    <div class="sparkline-responsive" data-type="bar" data-barSpacing="3" data-min-width="250" data-height="150px" data-data="[1,4,4,7,5,9,14,17,20,3,12,7,7,10,4,2,3,8]"></div>
                </div>
            </div>
            <div class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Custom line chart</h4>
                    </div>
                </div>
                <div class="panel-body text-center">
                    <div class="callout callout-info">
                        <p>Specify only <code>height</code> property. Width will always be 100%.</p>
                    </div>
                    <div class="sparkline-responsive" data-type="line" data-Height="100px" data-data="[1,4,4,7,5,9,10,4,2,3,8]"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Easy Pie Charts</h4>
                    </div>
                </div>
                <div class="panel-body text-center">
                    <div class="easy-pie-chart-wrapper margin-right-15">
                        <div class="easy-pie-chart" data-percent="55" data-size="60" data-line-width="3">
                            <span class="percentage"></span>
                        </div>
                        <div class="label">New visitors</div>
                    </div>
                    <div class="easy-pie-chart-wrapper">
                        <div class="easy-pie-chart" data-percent="21" data-size="70" data-line-width="10" data-scale-color="#7c7c7c" data-line-cap="butt" data-track-color="rgba(65, 114, 155, 0.4)" data-bar-color="rgba(65, 114, 155, 1)">
                            <span class="percentage"></span>
                        </div>
                        <div class="label">Bounce rate</div>
                    </div>
                    <div class="easy-pie-chart-wrapper">
                        <div class="easy-pie-chart" data-percent="21" data-size="90" data-line-width="38" data-line-cap="butt" data-track-color="rgba(65, 114, 155, 0.4)" data-bar-color="rgba(65, 114, 155, 1)">
                            <span class="percentage"></span>
                        </div>
                        <div class="label">Bounce rate</div>
                    </div>
                    <div class="easy-pie-chart-wrapper">
                        <div class="easy-pie-chart" data-percent="88" data-size="110" data-line-width="20" data-bar-color="#1f9b8a">
                            <span class="percentage"></span>
                        </div>
                        <div class="label">Bounce rate</div>
                    </div>
                    <div class="easy-pie-chart-wrapper">
                        <div class="easy-pie-chart" data-percent="45" data-size="130" data-line-width="25" data-bar-color="#1e9957">
                            <span class="percentage"></span>
                        </div>
                        <div class="label">Bounce rate</div>
                    </div>
                    <div class="easy-pie-chart-wrapper">
                        <div class="easy-pie-chart" data-percent="78" data-size="150" data-line-width="30" data-bar-color="#4f991e">
                            <span class="percentage"></span>
                        </div>
                        <div class="label">Bounce rate</div>
                    </div>
                    <div class="easy-pie-chart-wrapper">
                        <div class="easy-pie-chart" data-percent="32" data-size="170" data-line-width="35" data-bar-color="#1e6199" data-line-cap="butt">
                            <span class="percentage"></span>
                        </div>
                        <div class="label">Bounce rate</div>
                    </div>
                    <div class="easy-pie-chart-wrapper">
                        <div class="easy-pie-chart" data-percent="19" data-size="200" data-line-width="40" data-line-cap="butt">
                            <span class="percentage"></span>
                        </div>
                        <div class="label">Bounce rate</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        
        (function(){
            LobiAdmin.loadScript([
                'js/plugin/highlight/highlight.pack.js'
            ], function(){
                LobiAdmin.highlightCode();
            });

            LobiAdmin.loadScript([
                'js/plugin/sparkline/jquery.sparkline.min.js'
            ], initSparkline);

            LobiAdmin.loadScript('js/plugin/easypiechart/jquery.easypiechart.min.js', initEasyPieCharts);


            function initEasyPieCharts(){
                //Activate all future easy-pie charts
                $('.easy-pie-chart').easyPieChart({
                    animate: 1000,
                    onStep: function ($el, maxValue, curValue) {
                        $(this.el).find('.percentage').text(Math.round(curValue) + '%');
                    }
                });
            }

            function initSparkline(){
                initSparklineDefaults();

                initResponsiveSparklines();

                //Initialize lobipanel
                $('.panel').lobiPanel({
                    reload: false,
                    editTitle: false,
                    sortable: true
                });

                /** This code runs when everything has been loaded on the page */
                /* Inline sparklines take their values from the contents of the tag */
                $('.inlinesparkline').sparkline(); 

                /* Sparklines can also take their values from the first argument 
                passed to the sparkline() function */
                var myvalues = [10,8,5,7,4,4,1];
                $('.dynamicsparkline').sparkline(myvalues);

                /* The second argument gives options such as chart type */
                $('.dynamicbar').sparkline(myvalues, {type: 'bar', barColor: 'green'});

                /* Use 'html' instead of an array of values to pass options 
                 to a sparkline with data in the tag */
                $('.inlinebar').sparkline('html', {type: 'bar', barColor: 'red'});

                $('.sparkline').sparkline('html', {
                    tagOptionPrefix: "data-sparkline-",
                    enableTagOptions: true,
                });

                /** 
                ** Draw the little mouse speed animated graph
                ** This just attaches a handler to the mousemove event to see
                ** (roughly) how far the mouse has moved
                ** and then updates the display a couple of times a second via
                ** setTimeout()
                **/
                function drawMouseSpeedDemo() {
                    var mrefreshinterval = 500; // update display every 500ms
                    var lastmousex=-1; 
                    var lastmousey=-1;
                    var lastmousetime;
                    var mousetravel = 0;
                    var mpoints = [];
                    var mpoints_max = 30;
                    $('html').mousemove(function(e) {
                        var mousex = e.pageX;
                        var mousey = e.pageY;
                        if (lastmousex > -1) {
                            mousetravel += Math.max( Math.abs(mousex-lastmousex), Math.abs(mousey-lastmousey) );
                        }
                        lastmousex = mousex;
                        lastmousey = mousey;
                    });
                    var mdraw = function() {
                        var md = new Date();
                        var timenow = md.getTime();
                        if (lastmousetime && lastmousetime!=timenow) {
                            var pps = Math.round(mousetravel / (timenow - lastmousetime) * 1000);
                            mpoints.push(pps);
                            if (mpoints.length > mpoints_max)
                                mpoints.splice(0,1);
                            mousetravel = 0;
                            $('#mousespeed').sparkline(mpoints, { width: mpoints.length*2, tooltipSuffix: ' pixels per second' });
                        }
                        lastmousetime = timenow;
                        setTimeout(mdraw, mrefreshinterval);
                    }
                    // We could use setInterval instead, but I prefer to do it this way
                    setTimeout(mdraw, mrefreshinterval);
                };
                drawMouseSpeedDemo();
                // Bar charts using inline values
                $('.sparkbar').sparkline('html', {type: 'bar'});
                // Composite line charts, the second using values supplied via javascript
                $('#compositeline').sparkline('html', { fillColor: false, changeRangeMin: 0, chartRangeMax: 10 });
                $('#compositeline').sparkline([4,1,5,7,9,9,8,7,6,6,4,7,8,4,3,2,2,5,6,7], 
                { composite: true, fillColor: false, lineColor: 'red', changeRangeMin: 0, chartRangeMax: 10 });
                // Line charts with normal range marker
                $('#normalline').sparkline('html', 
                    { fillColor: false, normalRangeMin: -1, normalRangeMax: 8 });

                    // Bar + line composite charts
                $('#compositebar').sparkline('html', { type: 'bar', barColor: '#aaf' });
                $('#compositebar').sparkline([4,1,5,7,9,9,8,7,6,6,4,7,8,4,3,2,2,5,6,7], 
                    { composite: true, fillColor: false, lineColor: 'red' });
                // Discrete charts
                $('.discrete1').sparkline('html', 
                    { type: 'discrete', lineColor: 'blue', xwidth: 18 });
                $('#discrete2').sparkline('html', 
                    { type: 'discrete', lineColor: 'blue', thresholdColor: 'red', thresholdValue: 4 });
                    // Customized line chart
                $('#linecustom').sparkline('html', 
                    {height: '1.5em', width: '8em', lineColor: '#f00', fillColor: '#ffa', 
                    minSpotColor: false, maxSpotColor: false, spotColor: '#77f', spotRadius: 3});
                // Tri-state charts using inline values
                $('.sparktristate').sparkline('html', {type: 'tristate'});
                $('.sparktristatecols').sparkline('html', 
                    {type: 'tristate', colorMap: {'-2': '#fa7', '2': '#44f'} });
                    // Box plots
                $('.sparkboxplot').sparkline('html', { type: 'box'});
                $('.sparkboxplotraw').sparkline([ 1, 3, 5, 8, 10, 15, 18 ], 
                    {type:'box', raw: true, showOutliers:true, target: 6});
            }
        })();
        
    </script>
</div>